<!DOCTYPE html>
<html>

<head>
	<script type="text/javascript">

		//Global variables
		let myImage = new Image(); // Create a new blank image.

		let canvas;

		// Load the image and display it.
		function displayImage() {		

			canvas = document.getElementById("myCanvas");	

			// Make sure you got it.
			if (canvas.getContext) {

				// Specify 2d canvas type.
				ctx = canvas.getContext("2d");

				// When the image is loaded, draw it.
				myImage.onload = function () {

					// Load the image into the context.
					ctx.drawImage(myImage, 0, 0);

					// Get and modify the image data.
					changeImage();
				}

				// Define the source of the image.
				myImage.src = "https://amazon.clikpic.com/skegnesscc/images/Kestral_20.jpg";
			}
		}

		function changeImage() {
			//ctx.clearRect(0, 0, canvas.width, canvas.height);

			// Draw snowflakes.
			for (i = 0; i <= 50; i++) {
				// Get random positions for flakes.
				var x = Math.floor(Math.random() * 1600);
				var y = Math.floor(Math.random() * 1200);

				// Make the flakes white
				ctx.fillStyle = "white";

				// Draw an individual flakes.
				ctx.beginPath();
				ctx.arc(x, y, 3, 0, Math.PI * 2, true);
				ctx.closePath();
				ctx.fill();
       		}

			//window.requestAnimationFrame(changeImage);
		}
	</script>
</head>

<body onload="displayImage()">
	<h1>
		American Kestral
	</h1>
	<p>
		The original image is on the left and the modified image is on the right.
	</p>
	<img id="myPhoto" src="https://amazon.clikpic.com/skegnesscc/images/Kestral_20.jpg">
	<canvas id="myCanvas" width="1600" height="1200">
	</canvas>
	<p>
		Public domain image courtesy of U.S. Fish and Wildlife Service.
	</p>
</body>

</html>